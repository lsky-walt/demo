<!DOCTYPE html>
<html lang="zxx">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>绿植小店铺-新闻列表</title>
    <meta name="robots" content="index, follow">
    <meta name="description"
        content="Pronia plant store bootstrap 5 template is an awesome website template for any home plant shop.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicon -->


    <!-- CSS
    ============================================ -->

    <!-- Minify Version -->
    <link rel="stylesheet" href="static/css/plugins.min.css">
    <link rel="stylesheet" href="static/css/style.min.css">

</head>

<body>
    <div class="preloader-activate preloader-active open_tm_preloader">
        <div class="preloader-area-wrap">
            <div class="spinner d-flex justify-content-center align-items-center h-100">
                <div class="bounce1"></div>
                <div class="bounce2"></div>
                <div class="bounce3"></div>
            </div>
        </div>
    </div>
    <div class="main-wrapper">

        <!-- Begin Main Header Area -->
        <header class="main-header-area">
            <div class="header-middle py-30">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-12">
                            <div class="header-middle-wrap position-relative">
                                <div class="header-contact d-none d-lg-flex">
                                    <i class="pe-7s-call"></i>
                                    <a href="tel://+00-123-456-789">+00 123 456 789</a>
                                </div>

                                <a href="" class="header-logo">
                                    绿植小店铺
                                </a>
                                <div class="header-right d-lg-none">
                                    <ul>
                                        <li class="mobile-menu_wrap d-block d-lg-none">
                                            <a href="#mobileMenu" class="mobile-menu_btn toolbar-btn pl-0">
                                                <i class="pe-7s-menu"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-bottom d-none d-lg-block">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="main-menu position-relative">
                                <nav class="main-nav">
                                    <ul>
                                        <li>
                                            <a href="index">首页</a>
                                        </li>
                                        <li>
                                            <a href="news">新闻中心</a>
                                        </li>
                                        <li>
                                            <a href="about">关于我们</a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-sticky py-4 py-lg-0">
                <div class="container">
                    <div class="header-nav position-relative">
                        <div class="row align-items-center justify-content-between">
                            <div class="col-lg-3 col-6">

                                <a href="" class="header-logo">
                                    绿植小店铺
                                </a>

                            </div>
                            <div class="col-lg-6 d-none d-lg-block">
                                <div class="main-menu">
                                    <nav class="main-nav">
                                        <ul>
                                            <li>
                                                <a href="index">首页</a>
                                            </li>
                                            <li>
                                                <a href="news">新闻中心</a>
                                            </li>
                                            <li>
                                                <a href="about">关于我们</a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                            <div class="col-lg-3 col-6 d-lg-none">
                                <div class="header-right">
                                    <ul>
                                        <li class="mobile-menu_wrap d-block d-lg-none">
                                            <a href="#mobileMenu" class="mobile-menu_btn toolbar-btn pl-0">
                                                <i class="pe-7s-menu"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mobile-menu_wrapper" id="mobileMenu">
                <div class="offcanvas-body">
                    <div class="inner-body">
                        <div class="offcanvas-top">
                            <a href="#" class="button-close"><i class="pe-7s-close"></i></a>
                        </div>
                        <div class="header-contact offcanvas-contact" style="margin-bottom: 12px;">
                            <i class="pe-7s-call"></i>
                            <a href="tel://+00-123-456-789">+00 123 456 789</a>
                        </div>
                        <div class="offcanvas-menu_area">
                            <nav class="offcanvas-navigation">
                                <ul class="mobile-menu">
                                    <li>
                                        <a href="index">
                                            <span class="mm-text">首页
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="news">
                                            <span class="mm-text">新闻中心
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="about">
                                            <span class="mm-text">关于我们</span>
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
            <div class="global-overlay"></div>
        </header>
        <!-- Main Header Area End Here -->

        <!-- Begin Main Content Area -->
        <main class="main-content">
            <div class="breadcrumb-area breadcrumb-height" data-bg-image="static/image/1-1-1919x388.jpg">
                <div class="container h-100">
                    <div class="row h-100">
                        <div class="col-lg-12">
                            <div class="breadcrumb-item">
                                <h2 class="breadcrumb-heading">新闻中心</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="blog-area section-space-y-axis-100">
                <div class="container">
                    <div class="row" id="news-container">
                    </div>
                    <div class="row">
                        <div class="col-xs-12 offset-xs-0">
                            <div class="pagination-area">
                                <nav aria-label="Page navigation example">
                                    <ul class="pagination justify-content-end" id="pagination"></ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <!-- Main Content Area End Here -->

        <!-- Begin Footer Area -->
        <div class="footer-area" data-bg-image="static/image/footer/1-1920x465.jpg">
            <div class="footer-top section-space-top-100">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-3 col-md-4 pt-40">
                            <div class="footer-widget-item" style="text-align: center;">
                                <h3 class="footer-widget-title d-xs-none">
                                    <svg t="1629274047865" class="icon" viewBox="0 0 1024 1024" version="1.1"
                                        xmlns="http://www.w3.org/2000/svg" p-id="8471" width="32" height="32">
                                        <path
                                            d="M512 1024S97.52381 643.413333 97.52381 414.47619a414.47619 414.47619 0 0 1 828.95238 0c0 228.937143-414.47619 609.52381-414.47619 609.52381z m0-950.857143A343.356952 343.356952 0 0 0 170.666667 418.620952C170.666667 609.28 512 926.47619 512 926.47619s341.333333-317.19619 341.333333-507.855238A343.356952 343.356952 0 0 0 512 73.142857z m0 146.285714a195.047619 195.047619 0 1 1-195.047619 195.047619 195.047619 195.047619 0 0 1 195.047619-195.047619z m0 73.142858a121.904762 121.904762 0 1 1-121.904762 121.904761 121.904762 121.904762 0 0 1 121.904762-121.904761z"
                                            p-id="8472"></path>
                                    </svg>
                                </h3>
                                <p class="short-desc">福州仓山万达</p>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 pt-40 d-xs-none">
                            <div class="footer-widget-item" style="text-align: center;">
                                <h3 class="footer-widget-title"><svg t="1629274182923" class="icon"
                                        viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                                        p-id="9434" width="32" height="32">
                                        <path
                                            d="M117.76 191.488c53.248 63.488 114.688 120.832 181.248 171.008 64.512 48.128 136.192 91.136 212.992 126.976 71.68-31.744 143.36-74.752 212.992-126.976 72.704-54.272 133.12-111.616 180.224-171.008 5.12-5.12-256-37.888-393.216-37.888s-398.336 31.744-394.24 37.888zM929.792 186.368c1.024 0 1.024 0 0 0 1.024 0 1.024 0 0 0zM935.936 190.464s0-1.024 0 0c0-1.024 0 0 0 0zM83.968 195.584c1.024-1.024 1.024-1.024 0 0 1.024-1.024 1.024-1.024 0 0zM940.032 194.56c-1.024 0-1.024 0 0 0-1.024 0-1.024 0 0 0z"
                                            p-id="9435"></path>
                                        <path
                                            d="M937.984 218.112c-49.152 61.44-112.64 120.832-188.416 177.152-74.752 56.32-152.576 101.376-229.376 135.168-3.072 1.024-5.12 2.048-8.192 2.048s-6.144-1.024-8.192-2.048c-82.944-37.888-159.744-83.968-229.376-135.168C204.8 343.04 142.336 283.648 87.04 218.112 82.944 212.992 51.2 408.576 51.2 512s10.24 207.872 30.72 311.296c2.048 8.192 8.192 15.36 17.408 16.384 137.216 20.48 275.456 30.72 412.672 30.72s275.456-10.24 412.672-30.72c8.192-1.024 15.36-8.192 17.408-16.384 20.48-103.424 30.72-207.872 30.72-311.296s-30.72-299.008-34.816-293.888z"
                                            p-id="9436"></path>
                                    </svg></h3>
                                <p class="short-desc">xxxxx@xxxxxxxxxx.com</p>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 pt-40 d-xs-none" style="padding-bottom: 40px;">
                            <div class="footer-widget-item" style="text-align: center;">
                                <h3 class="footer-widget-title"><svg t="1629274217653" class="icon"
                                        viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                                        p-id="10260" width="32" height="32">
                                        <path
                                            d="M213.704348 445.217391C291.617391 601.043478 422.956522 727.930435 578.782609 810.295652l122.434783-122.434783c15.582609-15.582609 37.843478-22.26087 55.652174-11.130435 60.104348 22.26087 126.886957 33.391304 198.121739 33.391304 33.391304 0 55.652174 22.26087 55.652174 55.652174l0 186.991304c0 33.391304-22.26087 55.652174-55.652174 55.652174C434.086957 1008.417391 15.582609 589.913043 15.582609 71.234783c0-33.391304 22.26087-55.652174 55.652174-55.652174l193.669565 0c33.391304 0 55.652174 22.26087 55.652174 55.652174 0 66.782609 11.130435 133.565217 33.391304 198.121739 4.452174 15.582609 0 37.843478-11.130435 55.652174L213.704348 445.217391z"
                                            p-id="10261"></path>
                                    </svg></h3>
                                <p class="short-desc">123 456 789</p>
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <div class="footer-contact-info" style="height: 100%; text-align: center;">
                                <img style="height: 100%;" class="lazyload primary-img img-fluid"
                                    src="static/image/footer/scan.png" alt="Product Images">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="copyright">
                                <span class="copyright-text">Copyright &copy; 2021.Company name All rights
                                    reserved.</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Footer Area End Here -->

        <!-- Begin Scroll To Top -->
        <a class="scroll-to-top" href="">
            <i class="fa fa-angle-double-up"></i>
        </a>
        <!-- Scroll To Top End Here -->

    </div>

    <!-- Global Vendor, plugins JS -->

    <!-- JS Files
    ============================================ -->

    <!-- Minify Version -->
    <script src="static/js/plugins.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <script>
        window.onload = function () {

            function getLocalPageIndex() {
                const cur = window.localStorage.getItem('page-current')
                if (!cur || +cur < 1) return 1
                return +cur
            }

            let current = getLocalPageIndex()

            function clearChild(dom) {
                if (!dom) return
                while (dom.hasChildNodes()) {
                    dom.removeChild(dom.firstChild)
                }
            }

            function insertNews(data) {
                if (!Array.isArray(data)) {
                    return
                }

                let text = ``

                data.forEach((value) => {
                    text += `
                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <div class="blog-item" style="margin-bottom: 16px;">
                                        <div class="blog-content">
                                            <h2 class="title">
                                                <a href="news-detail?index=${value.id}">${value.title}</a>
                                            </h2>
                                            <p class="short-desc mb-7">${value.content}</p>
                                        </div>
                                        <div class="blog-img">
                                            <a href="news-detail?index=${value.id}">
                                                <img class="img-full" src=${value.url}
                                                    alt="Blog Image">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                `
                });

                const dom = document.querySelector('#news-container')
                clearChild(dom)
                dom.innerHTML = text
            }

            function getPageData(pageIndex = 1) {
                axios({
                    method: 'post',
                    url: 'https://mock-api.com/lKGLmRzA.mock/news',
                    data: {
                        type: "page",
                    }
                }).then(res => {
                    insertNews(res.data.data)
                    pagination(res.data.total)
                })
            }

            function paginationEvent() {
                const dom = document.querySelector('#pagination')
                dom.addEventListener('click', (event) => {
                    const { target } = event
                    let cur = target
                    if (!target.classList.contains('page-link')) {
                        cur = target.querySelector('.page-link')
                    }

                    if (cur.getAttribute('tabindex') === '-1') return

                    if (cur.text === 'Prev') {
                        current -= 1
                    } else if (cur.text === 'Next') {
                        current += 1
                    } else {
                        current = +cur.text
                    }


                    window.localStorage.setItem('page-current', current)

                    getPageData()

                })
            }

            function pagination(total) {
                // 10条每页

                const dom = document.querySelector('#pagination')

                if (total === 0) {
                    clearChild(dom)
                    return
                }

                const isFirst = current === 1


                let p = `<li class="page-item ${isFirst ? 'disabled' : ''}"><a class="page-link" ${isFirst ? 'tabindex="-1" aria-disabled="true"' : ''}>Prev</a></li>`

                const len = Math.ceil(total / 10)

                const isLast = current === len

                Array.from({ length: len }).forEach((_, index) => {
                    p += `<li class="page-item ${current === index + 1 ? 'active' : ''}"><a class="page-link">${index + 1}</a></li>`
                })

                p += `<li class="page-item ${isLast ? 'disabled' : ''}"><a class="page-link" ${isLast ? 'tabindex="-1" aria-disabled="true"' : ''}>Next</a></li>`


                clearChild(dom)
                dom.innerHTML = p

                // scroll to top ?
                window.scrollTo({
                    top: 0,
                    behavior: "smooth"
                });
            }

            paginationEvent()

            getPageData()
        }

    </script>

</body>

</html>